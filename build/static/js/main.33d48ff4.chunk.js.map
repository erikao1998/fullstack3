{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["PersonForm","add","handleName","handleNumber","name","number","onSubmit","value","onChange","type","Person","person","deletePerson","className","onClick","Filter","handleChange","baseUrl","axios","get","newObject","post","id","delete","put","Notification","message","redError","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","search","setSearch","errorMessage","setErrorMessage","setRedError","useEffect","service","then","response","data","searchedPerson","find","p","console","log","window","confirm","filter","n","setTimeout","catch","error","event","target","preventDefault","list","i","length","nameCheck","changedPerson","map","personObject","concat","key","toUpperCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.33d48ff4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({ add, handleName, handleNumber, name, number }) => {\r\n  return (\r\n    <div>\r\n      <h2>add a new</h2>\r\n      <form onSubmit={add}>\r\n        <div>\r\n          name:{' '}\r\n          <input\r\n            value={name}\r\n            onChange={handleName}\r\n          />\r\n        </div>\r\n        <div>\r\n          number:{' '}\r\n          <input\r\n            value={number}\r\n            onChange={handleNumber}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">add</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n  return (\r\n    <pre className='person'>\r\n      {person.name} {person.number} <button onClick={deletePerson}>delete</button>\r\n    </pre>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\n\r\nconst Filter = ({handleChange}) => {\r\n  return (\r\n    <div>\r\n      filter shown with{' '}\r\n      <input\r\n        onChange={handleChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update }\r\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport service from './services/persons'\n\nconst Notification = ({message, redError}) => {\n\n  if (message === null) {\n    return null\n  }\n\n  if (redError) {\n    return (\n      <div className='redError'>\n        {message}\n      </div>\n    )\n  }\n\n  return (\n    <div className='greenError'>\n     {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ redError, setRedError ] = useState(false)\n\n  useEffect(() => {\n    service\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  function nameCheck(name, list) {\n\n    for (var i = 0; i < list.length; i++) {\n\n      if (list[i].name === name) {\n        return 1\n      }\n    }\n    return 0\n\n\n  }\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked')\n\n\n    if (nameCheck(newName, persons) === 1) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one`)) {\n        const searchedPerson = persons.find(p => p.name === newName)\n        const changedPerson = { ...searchedPerson, number: newNumber }\n\n        service\n          .update(searchedPerson.id, changedPerson)\n          .then(response => {\n            setPersons(persons.map(person => person.id !== searchedPerson.id ? person : response.data))\n            setErrorMessage(`Updated ${searchedPerson.name}'s number`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 2000)\n\n           })\n            .catch(error => {\n              setErrorMessage(\n                `${searchedPerson.name} was already deleted from server`\n              )\n              setRedError(true)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 2000)\n\n            })\n\n          }\n    } else {\n\n      const personObject = {\n        name: newName,\n        number: newNumber,\n\n      }\n\n      service\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(\n            `Added '${personObject.name}'`\n          )\n          setTimeout(() => {\n          setErrorMessage(null)\n        }, 2000)\n\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setSearch (event.target.value)\n  }\n\n  const deletePerson = id => {\n    const searchedPerson = persons.find(p => p.id === id)\n    console.log(searchedPerson)\n    if (window.confirm(`Delete ${searchedPerson.name}`))\n    service\n      .deletePerson(id)\n      .then(response => {\n        setPersons(persons.filter(n => n.id !== id))\n        setErrorMessage(`Deleted ${searchedPerson.name}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 2000)\n      })\n      .catch(error => {\n        setErrorMessage(\n          `${searchedPerson.name} was already deleted from server`\n        )\n        setRedError(true)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 2000)\n\n      })\n\n\n  }\n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notification message={errorMessage} redError={redError}/>\n      <Filter handleChange={handleSearch}/>\n\n      <PersonForm add={addPerson} handleName={handleNameChange} handleNumber={handleNumberChange} name={newName} number={newNumber} />\n\n      <h2>Numbers</h2>\n          {search === ''\n          ? persons.map((person, key) =>\n            <div key={person.id}>\n              <Person person={person} deletePerson={() => deletePerson(person.id)}/>\n            </div>\n            )\n          : persons.filter(person => person.name.toUpperCase().includes(search.toUpperCase()))\n            .map((person, key) =>\n              <div key={person.id}>\n                <Person person={person} deletePerson={() => deletePerson(person.id)}/>\n              </div>\n            )\n          }\n    </div>\n  )\n}\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}